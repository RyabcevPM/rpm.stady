<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
<f:view>
    <h:head>
        <title>PF Title</title>
    </h:head>

    <h:body>
        <h:form>
            <p:growl id="messages"/>

            <p:menubar>
                <p:submenu label="File" icon="pi pi-file">
                    <p:submenu label="New" icon="pi pi-briefcase">
                        <p:menuitem value="Project" url="#"/>
                        <p:menuitem value="Other" url="#"/>
                    </p:submenu>
                    <p:menuitem value="Open" url="#"/>
                    <p:separator/>
                    <p:menuitem value="Quit" url="#"/>
                </p:submenu>

                <p:submenu label="Edit" icon="pi pi-pencil">
                    <p:menuitem value="Undo" url="#" icon="pi pi-angle-double-left"/>
                    <p:menuitem value="Redo" url="#" icon="pi pi-angle-double-right"/>
                </p:submenu>

                <p:submenu label="Help" icon="pi pi-question">
                    <p:menuitem value="Contents" url="#"/>
                    <p:submenu label="Search" icon="pi pi-search">
                        <p:submenu label="Text">
                            <p:menuitem value="Workspace" url="#"/>
                        </p:submenu>
                        <p:menuitem value="File" url="#"/>
                    </p:submenu>
                </p:submenu>

                <p:submenu label="Actions" icon="pi pi-cog">
                    <p:submenu label="Ajax" icon="pi pi-refresh">
                        <p:menuitem value="Save" action="#{menuView.save}" icon="pi pi-save" update="messages"/>
                        <p:menuitem value="Update" action="#{menuView.update}" icon="pi pi-refresh" update="messages"/>
                    </p:submenu>
                    <p:submenu label="Non-Ajax" icon="pi pi-clone">
                        <p:menuitem value="Delete" action="#{menuView.delete}" icon="pi pi-times" update="messages"
                                    ajax="false"/>
                    </p:submenu>
                </p:submenu>

                <p:menuitem value="Quit" url="http://www.primefaces.org" icon="pi pi-times">
                </p:menuitem>

                <f:facet name="options">
                    <h:panelGrid columns="4" cellpadding="0">
                        <p:inputText style="margin:1px 10px 1px 1px;" placeholder="Search"/>
                        <p:commandButton type="button" value="Logout" icon="pi pi-home"/>
                        <p:outputLabel value="Theme:" for="basic2" style="width:120px"/>
                        <p:themeSwitcher id="basic2" style="margin:1px 10px 1px 1px;">
                            <f:selectItems value="#{themeSwitcherView.themes}" var="#{themeService.theme}"
                                           itemLabel="#{theme.displayName}" itemValue="#{theme.name}"/>
                        </p:themeSwitcher>

                    </h:panelGrid>
                </f:facet>
            </p:menubar>
        </h:form>

        <style type="text/css">
        .value {
        font-weight: bold;
        }
        </style>

        <h:form id="formDetail">
            <p:dataGrid var="product" value="#{dataGridView.products}" columns="4" layout="grid"
                        rows="8" paginator="true" id="products"
                        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                        rowsPerPageTemplate="4,8,12,16">

                <f:facet name="header">
                    Products for Sale
                </f:facet>

                <p:panel header="#{product.id}" style="text-align:center">
                    <h:panelGrid columns="1" style="width:100%">
                        <p:graphicImage value="images/product/#{product.id}.jpg" id="img#{product.id}" alt="noimage"/>

                        <h:outputText value="#{product.year}"/>

                        <p:commandLink update=":formDetail:productDetail" oncomplete="PF('productDialog').show()"
                                       title="View Detail">
                            <h:outputText styleClass="pi pi-search" style="margin:0 auto;"/>
                            <f:setPropertyActionListener value="#{product}" target="#{dataGridView.selectedProduct}"/>
                            <p:graphicImage value="images/arrow_down.png" alt="noimage"/>
                        </p:commandLink>
                    </h:panelGrid>
                </p:panel>

            </p:dataGrid>

            <p:dialog header="Product Info" widgetVar="productDialog" modal="true" showEffect="fade" hideEffect="fade"
                      resizable="false">
                <p:outputPanel id="productDetail" style="text-align:center;">
                    <p:panelGrid columns="2" rendered="#{not empty dataGridView.selectedProduct}"
                                 columnClasses="label,value">
                        <f:facet name="header">
                            <!--<p:graphicImage name="../images/basket_full2.png"/>-->
                            <p:graphicImage value="images/product/#{dataGridView.selectedProduct.id}.jpg" id="img#{dataGridView.selectedProduct.id}" alt="noimage"/>
                        </f:facet>

                        <h:outputText value="Id:"/>
                        <h:outputText value="#{dataGridView.selectedProduct.id}"/>

                        <h:outputText value="Year"/>
                        <h:outputText value="#{dataGridView.selectedProduct.year}"/>

                        <h:outputText value="Color:"/>
                        <h:outputText value="#{dataGridView.selectedProduct.color}"
                                      style="color:#{dataGridView.selectedProduct.color}"/>

                        <h:outputText value="Price"/>
                        <h:outputText value="$#{dataGridView.selectedProduct.price}"/>
                    </p:panelGrid>
                </p:outputPanel>
            </p:dialog>
        </h:form>

    </h:body>
</f:view>
</html>
